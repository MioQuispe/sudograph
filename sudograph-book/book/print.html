<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Sudograph</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="sudograph.html"><strong aria-hidden="true">1.</strong> Sudograph</a></li><li class="chapter-item expanded "><a href="quickest-of-quick-starts.html"><strong aria-hidden="true">2.</strong> Quickest of quick starts</a></li><li class="chapter-item expanded "><a href="quick-start.html"><strong aria-hidden="true">3.</strong> Quick start</a></li><li class="chapter-item expanded "><a href="schema.html"><strong aria-hidden="true">4.</strong> Schema</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="schema-scalars.html"><strong aria-hidden="true">4.1.</strong> Scalars</a></li><li class="chapter-item expanded "><a href="schema-objects.html"><strong aria-hidden="true">4.2.</strong> Objects</a></li><li class="chapter-item expanded "><a href="schema-relations.html"><strong aria-hidden="true">4.3.</strong> Relations</a></li><li class="chapter-item expanded "><a href="schema-custom-scalars.html"><strong aria-hidden="true">4.4.</strong> Custom scalars</a></li><li class="chapter-item expanded "><a href="schema-custom-resolvers.html"><strong aria-hidden="true">4.5.</strong> Custom resolvers</a></li><li class="chapter-item expanded "><a href="schema-sudograph-settings.html"><strong aria-hidden="true">4.6.</strong> Sudograph settings</a></li></ol></li><li class="chapter-item expanded "><a href="generated-schema.html"><strong aria-hidden="true">5.</strong> Generated Schema</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="query.html"><strong aria-hidden="true">5.1.</strong> Query</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="read.html"><strong aria-hidden="true">5.1.1.</strong> read</a></li></ol></li><li class="chapter-item expanded "><a href="mutation.html"><strong aria-hidden="true">5.2.</strong> Mutation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="create.html"><strong aria-hidden="true">5.2.1.</strong> create</a></li><li class="chapter-item expanded "><a href="update.html"><strong aria-hidden="true">5.2.2.</strong> update</a></li><li class="chapter-item expanded "><a href="delete.html"><strong aria-hidden="true">5.2.3.</strong> delete</a></li></ol></li><li class="chapter-item expanded "><a href="subscription.html"><strong aria-hidden="true">5.3.</strong> Subscription</a></li><li class="chapter-item expanded "><a href="filtering.html"><strong aria-hidden="true">5.4.</strong> Filtering</a></li><li class="chapter-item expanded "><a href="paging.html"><strong aria-hidden="true">5.5.</strong> Paging</a></li><li class="chapter-item expanded "><a href="ordering.html"><strong aria-hidden="true">5.6.</strong> Ordering</a></li></ol></li><li class="chapter-item expanded "><a href="examples.html"><strong aria-hidden="true">6.</strong> Examples</a></li><li class="chapter-item expanded "><a href="migrations.html"><strong aria-hidden="true">7.</strong> Migrations</a></li><li class="chapter-item expanded "><a href="transactions.html"><strong aria-hidden="true">8.</strong> Transactions</a></li><li class="chapter-item expanded "><a href="vision.html"><strong aria-hidden="true">9.</strong> Vision</a></li><li class="chapter-item expanded "><a href="motivation.html"><strong aria-hidden="true">10.</strong> Motivation</a></li><li class="chapter-item expanded "><a href="limitations.html"><strong aria-hidden="true">11.</strong> Limitations</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Sudograph</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="sudograph"><a class="header" href="#sudograph">Sudograph</a></h1>
<p>Sudograph is a <a href="https://graphql.org/">GraphQL</a> database for the <a href="https://dfinity.org/">Internet Computer</a> (IC).</p>
<p>Its goal is to become the simplest way to develop applications for the IC. Developers start by defining a <a href="https://graphql.org/learn/schema/">GraphQL schema</a> using the <a href="https://www.digitalocean.com/community/tutorials/graphql-graphql-sdl">GraphQL SDL</a>. Once the schema is defined, it can be included within a canister and deployed to the IC. An entire relational database is generated from the schema, with GraphQL queries and mutations enabling a variety of <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> operations, including advanced querying over relational data.</p>
<h2 id="quickest-of-quick-starts"><a class="header" href="#quickest-of-quick-starts">Quickest of quick starts</a></h2>
<p>If you've already got Node.js, npm, Rust, the wasm32-unknown-unknown Rust compilation target, and dfx 0.7.0 installed then just run the following commands:</p>
<pre><code class="language-bash">mkdir my-new-project
cd my-new-project
npx sudograph
dfx start --background
dfx deploy
</code></pre>
<p>Once deployed, you can visit the following canisters from a Chromium browser:</p>
<ul>
<li>playground: <a href="http://r7inp-6aaaa-aaaaa-aaabq-cai.localhost:8000">http://r7inp-6aaaa-aaaaa-aaabq-cai.localhost:8000</a></li>
<li>frontend: <a href="http://rrkah-fqaaa-aaaaa-aaaaq-cai.localhost:8000">http://rrkah-fqaaa-aaaaa-aaaaq-cai.localhost:8000</a></li>
</ul>
<p>If the above did not work, try the full installation steps in the actual quick start.</p>
<h2 id="quick-start"><a class="header" href="#quick-start">Quick start</a></h2>
<h3 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h3>
<p>You should have the following installed on your system:</p>
<ul>
<li>Node.js</li>
<li>npm</li>
<li>Rust</li>
<li>wasm32-unknown-unknown Rust compilation target</li>
<li>dfx 0.7.0</li>
</ul>
<p>If you already have the above installed, you can skip to <a href="quick-start.html#sudograph-generate">Sudograph generate</a>.</p>
<p>Run the following commands to install Node.js and npm. <a href="https://github.com/nvm-sh/nvm">nvm</a> is highly recommended and its use is shown below:</p>
<pre><code class="language-bash">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash

# restart your terminal

nvm install 14
</code></pre>
<p>Run the following command to install Rust and the wasm32-unknown-unknown target:</p>
<pre><code class="language-bash">curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

rustup target add wasm32-unknown-unknown
</code></pre>
<p>Run the following command to install dfx 0.7.0:</p>
<pre><code class="language-bash"># Sudograph has been tested against version 0.7.0, so it is safest to install that specific version for now
DFX_VERSION=0.7.0 sh -ci &quot;$(curl -fsSL https://sdk.dfinity.org/install.sh)&quot;
</code></pre>
<h3 id="sudograph-generate"><a class="header" href="#sudograph-generate">Sudograph generate</a></h3>
<p>Start by making a new directory for your project. You then simply run the sudograph generate command:</p>
<pre><code class="language-bash">mkdir my-new-project

cd my-new-project

npx sudograph
</code></pre>
<h3 id="local-deployment"><a class="header" href="#local-deployment">Local deployment</a></h3>
<p>Start up an IC replica and deploy:</p>
<pre><code class="language-bash"># Open a terminal and run the following command to start a local IC replica
dfx start

# Alternatively to the above command, you can run the replica in the background
dfx start --background

# If you are running the replica in the background, you can run this command within the same terminal as the dfx start --background command
# If you are not running the replica in the background, then open another terminal and run this command from the root directory of your project
dfx deploy
</code></pre>
<p>Make sure to run <code>dfx deploy</code> for your first deploy. For quicker deployments after the first, you can run <code>dfx deploy graphql</code> if you've only changed your schema or the Rust code within the graphql canister. <code>dfx deploy graphql</code> will only deploy the graphql canister, which contains the generated database.</p>
<h4 id="playground-canister"><a class="header" href="#playground-canister">playground canister</a></h4>
<p>Start executing GraphQL queries and mutations against your database by going to the following URL in a Chromium browser: <a href="http://r7inp-6aaaa-aaaaa-aaabq-cai.localhost:8000">http://r7inp-6aaaa-aaaaa-aaabq-cai.localhost:8000</a>.</p>
<h4 id="frontend-canister"><a class="header" href="#frontend-canister">frontend canister</a></h4>
<p>View a simple frontend application that communicates with the graphql canister by going to the following URL in a Chromium browser: <a href="http://rrkah-fqaaa-aaaaa-aaaaq-cai.localhost:8000">http://rrkah-fqaaa-aaaaa-aaaaq-cai.localhost:8000</a>.</p>
<h4 id="graphql-canister"><a class="header" href="#graphql-canister">graphql canister</a></h4>
<p>You can execute queries against the graphql canister from the command line if you wish:</p>
<pre><code class="language-bash"># send a query to the graphql canister
dfx canister call graphql graphql_query '(&quot;query { readUser(input: {}) { id } }&quot;, &quot;{}&quot;)'

# send a mutation to the graphql canister
dfx canister call graphql graphql_mutation '(&quot;mutation { createUser(input: { username: \&quot;lastmjs\&quot; }) { id } }&quot;, &quot;{}&quot;)'
</code></pre>
<h3 id="production-deployment"><a class="header" href="#production-deployment">Production deployment</a></h3>
<p>Before deploying to production you should understand that Sudograph is alpha/beta software. There are missing features and potential bugs. There is also no way to easily migrate data (if you change your schema, you'll need to delete your state and start over). But if you must deploy to production, here is the command:</p>
<pre><code class="language-bash">dfx deploy --network ic
</code></pre>
<h1 id="schema"><a class="header" href="#schema">Schema</a></h1>
<h1 id="scalars"><a class="header" href="#scalars">Scalars</a></h1>
<h1 id="objects"><a class="header" href="#objects">Objects</a></h1>
<h1 id="relations"><a class="header" href="#relations">Relations</a></h1>
<h1 id="custom-scalars"><a class="header" href="#custom-scalars">Custom scalars</a></h1>
<h1 id="custom-resolvers"><a class="header" href="#custom-resolvers">Custom resolvers</a></h1>
<h1 id="sudograph-settings"><a class="header" href="#sudograph-settings">Sudograph settings</a></h1>
<h1 id="generated-schema"><a class="header" href="#generated-schema">Generated Schema</a></h1>
<h1 id="query"><a class="header" href="#query">Query</a></h1>
<h1 id="read"><a class="header" href="#read">read</a></h1>
<h1 id="mutation"><a class="header" href="#mutation">Mutation</a></h1>
<h1 id="create"><a class="header" href="#create">create</a></h1>
<h1 id="update"><a class="header" href="#update">update</a></h1>
<h1 id="delete"><a class="header" href="#delete">delete</a></h1>
<h1 id="subscription"><a class="header" href="#subscription">Subscription</a></h1>
<h1 id="filtering"><a class="header" href="#filtering">Filtering</a></h1>
<h1 id="paging"><a class="header" href="#paging">Paging</a></h1>
<h1 id="ordering"><a class="header" href="#ordering">Ordering</a></h1>
<h1 id="examples"><a class="header" href="#examples">Examples</a></h1>
<h1 id="migrations"><a class="header" href="#migrations">Migrations</a></h1>
<h1 id="transactions"><a class="header" href="#transactions">Transactions</a></h1>
<h1 id="vision"><a class="header" href="#vision">Vision</a></h1>
<h1 id="motivation"><a class="header" href="#motivation">Motivation</a></h1>
<h1 id="limitations"><a class="header" href="#limitations">Limitations</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
